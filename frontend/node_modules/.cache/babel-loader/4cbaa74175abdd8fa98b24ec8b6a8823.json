{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"signup\"\n};\nconst _hoisted_2 = {\n  class: \"bloc\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Nom\", -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = {\n  key: 0,\n  class: \"formMessage\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Prenom\", -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = {\n  key: 1,\n  class: \"formMessage\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Poste au sein de l'entreprise\", -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = {\n  key: 2,\n  class: \"formMessage\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Email\", -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = {\n  key: 3,\n  class: \"formMessage\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Mot de passe\", -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = {\n  key: 4,\n  class: \"formMessage\"\n};\nconst _hoisted_13 = {\n  key: 0\n};\nconst _hoisted_14 = {\n  key: 1,\n  class: \"bouton bouton--disabled\"\n};\nexport function render(_ctx, _cache) {\n  const _component_HeaderLog = _resolveComponent(\"HeaderLog\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_HeaderLog), _createElementVNode(\"h1\", null, _toDisplayString(_ctx.titre), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"form\", null, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.nom = $event),\n    type: \"text\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.nom]]), !_ctx.nomRegexValid() ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, \" Veuillez saisir un nom valide \")) : _createCommentVNode(\"v-if\", true), _hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.prenom = $event),\n    type: \"text\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.prenom]]), !_ctx.prenomRegexValid() ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, \" Veuillez saisir un prénom valide \")) : _createCommentVNode(\"v-if\", true), _hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.job = $event),\n    type: \"text\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.job]]), !_ctx.jobRegexValid() ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, \" Veuillez saisir un poste valide \")) : _createCommentVNode(\"v-if\", true), _hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.email = $event),\n    type: \"email\",\n    onKeyup: _cache[4] || (_cache[4] = $event => _ctx.analyseEmail())\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, _ctx.email]]), _ctx.emailDisplayed ? (_openBlock(), _createElementBlock(\"p\", _hoisted_10, \" Veuillez saisir un email valide \")) : _createCommentVNode(\"v-if\", true), _hoisted_11, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _ctx.password = $event),\n    type: \"password\",\n    onChange: _cache[6] || (_cache[6] = $event => _ctx.checkPassword())\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, _ctx.password]]), _ctx.passwordDisplayed ? (_openBlock(), _createElementBlock(\"p\", _hoisted_12, \" Veuillez saisir un mot de passe \")) : _createCommentVNode(\"v-if\", true)]), _ctx.error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_13, _toDisplayString(_ctx.error), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true), !_ctx.validatedFields() ? (_openBlock(), _createElementBlock(\"button\", _hoisted_14, \" Se connecter \")) : _createCommentVNode(\"v-if\", true), _ctx.validatedFields() ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 2,\n    class: \"bouton\",\n    onClick: _cache[7] || (_cache[7] = $event => _ctx.createAccount())\n  }, \" Se connecter \")) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"mappings":";;AACOA,OAAK,EAAC;;;AAKJA,OAAK,EAAC;;;gCAEPC,oBAAkB,OAAlB,EAAkB,IAAlB,EAAO,KAAP,EAAU;AAAA;AAAV;;;;AAEGD,OAAK,EAAC;;;gCAGTC,oBAAqB,OAArB,EAAqB,IAArB,EAAO,QAAP,EAAa;AAAA;AAAb;;;;AAEGD,OAAK,EAAC;;;gCAGTC,oBAA4C,OAA5C,EAA4C,IAA5C,EAAO,+BAAP,EAAoC;AAAA;AAApC;;;;AAEGD,OAAK,EAAC;;;gCAGTC,oBAAoB,OAApB,EAAoB,IAApB,EAAO,OAAP,EAAY;AAAA;AAAZ;;;;AAEGD,OAAK,EAAC;;;iCAGTC,oBAA2B,OAA3B,EAA2B,IAA3B,EAAO,cAAP,EAAmB;AAAA;AAAnB;;;;AAEGD,OAAK,EAAC;;;;;;;AAKuBA,OAAK,EAAC;;;;;uBAlC5CE,oBAyCM,KAzCN,cAyCM,CAxCJC,aAAaC,oBAAb,CAwCI,EAtCJH,oBAAoB,IAApB,EAAoB,IAApB,EAAoBI,iBAAbC,UAAa,CAApB,EAAY;AAAA;AAAZ,GAsCI,EApCJL,oBAmCM,KAnCN,cAmCM,CAlCJA,oBA0BO,MA1BP,EA0BO,IA1BP,EA0BO,CAzBLM,UAyBK,kBAxBLN,oBAAmC,OAAnC,EAAmC;+DAAnBK,WAAGE,OAAgB;AAAdC,QAAI,EAAC;AAAS,GAAnC;;AAAA,oBAAgBH,WAwBX,GAvByBA,sCAA9BJ,oBAEI,GAFJ,cAA+C,iCAA/C,sCAuBK,EApBLQ,UAoBK,kBAnBLT,oBAAsC,OAAtC,EAAsC;+DAAtBK,cAAME,OAAgB;AAAdC,QAAI,EAAC;AAAS,GAAtC;;AAAA,oBAAgBH,cAmBX,GAlByBA,yCAA9BJ,oBAEI,GAFJ,cAAkD,oCAAlD,sCAkBK,EAfLS,UAeK,kBAdLV,oBAAmC,OAAnC,EAAmC;+DAAnBK,WAAGE,OAAgB;AAAdC,QAAI,EAAC;AAAS,GAAnC;;AAAA,oBAAgBH,WAcX,GAbyBA,sCAA9BJ,oBAEI,GAFJ,cAA+C,mCAA/C,sCAaK,EAVLU,UAUK,kBATLX,oBAA8D,OAA9D,EAA8D;+DAA9CK,aAAKE,OAAyC;AAAvCC,QAAI,EAAC,OAAkC;AAAzBI,WAAK,sCAAEP,mBAAF;AAAoB,GAA9D;;AAAA,oBAAgBA,aASX,EARwBA,qCAA7BJ,oBAEI,GAFJ,eAA6C,mCAA7C,sCAQK,EALLY,WAKK,kBAJLb,oBAAsE,OAAtE,EAAsE;+DAAtDK,gBAAQE,OAA8C;AAA5CC,QAAI,EAAC,UAAuC;AAA3BM,YAAM,sCAAET,oBAAF;AAAqB,GAAtE;;AAAA,oBAAgBA,gBAIX,EAHwBA,wCAA7BJ,oBAEI,GAFJ,eAAgD,mCAAhD,sCAGK,CA1BP,CAkCI,EAPKI,4BAATJ,oBAA+B,GAA/B,EAA+Bc,WAA/B,EAA+BX,iBAAZC,UAAY,CAA/B,EAAwB;AAAA;AAAxB,wCAOI,GANWA,wCAAfJ,oBAES,QAFT,eAAkE,gBAAlE,sCAMI,EAHUI,wCAAdJ,oBAES,QAFT,EAES;UAAA;AAFwBF,SAAK,EAAC,QAE9B;AAFwCiB,WAAK,sCAAEX,oBAAF;AAE7C,GAFT,EAAyE,gBAAzE,sCAGI,CAnCN,CAoCI,CAzCN","names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_HeaderLog","_toDisplayString","_ctx","_hoisted_3","$event","type","_hoisted_5","_hoisted_7","_hoisted_9","onKeyup","_hoisted_11","onChange","_hoisted_13","onClick"],"sourceRoot":"","sources":["/Users/clemencebonneaud/Desktop/Dev/OpenClassrooms/Cours/OC_P7/code/frontend/groupomania-v1.0/src/views/SignupView.vue"],"sourcesContent":["<template>\n  <div class=\"signup\">\n    <HeaderLog />\n\n    <h1>{{ titre }}</h1>\n\n    <div class=\"bloc\">\n      <form>\n        <label>Nom</label>\n        <input v-model=\"nom\" type=\"text\" />\n        <p class=\"formMessage\" v-if=\"!nomRegexValid()\">\n          Veuillez saisir un nom valide\n        </p>\n        <label>Prenom</label>\n        <input v-model=\"prenom\" type=\"text\" />\n        <p class=\"formMessage\" v-if=\"!prenomRegexValid()\">\n          Veuillez saisir un prénom valide\n        </p>\n        <label>Poste au sein de l'entreprise</label>\n        <input v-model=\"job\" type=\"text\" />\n        <p class=\"formMessage\" v-if=\"!jobRegexValid()\">\n          Veuillez saisir un poste valide\n        </p>\n        <label>Email</label>\n        <input v-model=\"email\" type=\"email\" @keyup=\"analyseEmail()\" />\n        <p class=\"formMessage\" v-if=\"emailDisplayed\">\n          Veuillez saisir un email valide\n        </p>\n        <label>Mot de passe</label>\n        <input v-model=\"password\" type=\"password\" @change=\"checkPassword()\" />\n        <p class=\"formMessage\" v-if=\"passwordDisplayed\">\n          Veuillez saisir un mot de passe\n        </p>\n      </form>\n      <p v-if=\"error\">{{ error }}</p>\n      <button v-if=\"!validatedFields()\" class=\"bouton bouton--disabled\">\n        Se connecter\n      </button>\n      <button v-if=\"validatedFields()\" class=\"bouton\" @click=\"createAccount()\">\n        Se connecter\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport HeaderLog from \"@/components/HeaderLog.vue\";\nexport default {\n  name: \"SignupView\",\n  props: [\"\"],\n  data() {\n    return {\n      titre: \"S'inscrire\",\n      nom: \"\",\n      prenom: \"\",\n      job: \"\",\n      email: \"\",\n      password: \"\",\n      emailDisplayed: false,\n      passwordDisplayed: false,\n      errorMessage: null,\n    };\n  },\n  methods: {\n    nomRegexValid: function () {\n      let regName = new RegExp(\n        \"^[a-zA-Z-'.ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ ]*$\"\n      );\n      let testNom = regName.exec(this.nom);\n      return testNom;\n    },\n\n    prenomRegexValid: function () {\n      let regName = new RegExp(\n        \"^[a-zA-Z-'.ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ ]*$\"\n      );\n      let testPrenom = regName.exec(this.prenom);\n      return testPrenom;\n    },\n\n    jobRegexValid: function () {\n      let regName = new RegExp(\n        \"^[a-zA-Z-'.ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ ]*$\"\n      );\n      let testJob = regName.exec(this.job);\n      return testJob;\n    },\n\n    analyseEmail: function () {\n      let regEmail = new RegExp(\"[a-z0-9]+@[a-z]+[.]+[a-z]{2,3}\");\n      let testEmail = regEmail.exec(this.email);\n      if (testEmail) {\n        this.emailDisplayed = false;\n      } else {\n        this.emailDisplayed = true;\n      }\n    },\n\n    checkPassword: function () {\n      if (this.password != \"\") {\n        this.passwordDisplayed = false;\n      } else {\n        this.passwordDisplayed = true;\n      }\n    },\n\n    validatedFields: function () {\n      let regName = new RegExp(\n        \"^[a-zA-Z-'.ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ ]*$\"\n      );\n      let regEmail = new RegExp(\"[a-z0-9]+@[a-z]+[.]+[a-z]{2,3}\");\n\n      let testNom = regName.exec(this.nom);\n      let testPrenom = regName.exec(this.prenom);\n      let testJob = regName.exec(this.job);\n      let testEmail = regEmail.exec(this.email);\n\n      if (\n        testNom &&\n        testPrenom &&\n        testJob &&\n        testEmail &&\n        this.password != \"\"\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    createAccount: function () {\n      this.$store\n        .dispatch(\"createAccount\", {\n          lastName: this.nom,\n          firstName: this.prenom,\n          job: this.job,\n          email: this.email,\n          password: this.password,\n        })\n        .then(await function (errorComm) {\n          console.log(\"erreur : \" + errorComm);\n          this.errorMessage = errorComm;\n        })\n    },\n  },\n  components: { HeaderLog },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}