{"version":3,"file":"js/313.054b0d08.js","mappings":"uNAKOA,MAAM,e,GAMJA,MAAM,Q,GAEPC,EAAAA,EAAAA,GAAoB,aAAb,SAAK,G,SAGTD,MAAM,e,SASNA,MAAM,cAAcE,GAAG,kB,SAMLF,MAAM,gB,SAKKA,MAAM,2B,yEA/B5CG,EAAAA,EAAAA,IAwCM,MAxCN,EAwCM,EAvCJC,EAAAA,EAAAA,IAAcC,IAEdJ,EAAAA,EAAAA,GAAoB,WAAAK,EAAAA,EAAAA,IAAbC,EAAAA,OAAK,IAGZN,EAAAA,EAAAA,GAiCM,MAjCN,EAiCM,EAhCJA,EAAAA,EAAAA,GAgBO,aAfLO,GAeK,SAdLP,EAAAA,EAAAA,GAA4D,S,qCAA5CM,EAAAA,MAAKE,GAAEC,KAAK,OAAQC,SAAM,eAAEC,EAAAA,eAA5C,iBAAgBL,EAAAA,SAEaA,EAAAA,iBAAAA,EAAAA,EAAAA,OAA7BJ,EAAAA,EAAAA,IAEI,IAFJ,EAA6C,gCAA7C,gBAYK,SARLF,EAAAA,EAAAA,GAIY,YAHVY,YAAY,gB,qCACHN,EAAAA,QAAOE,GACfE,SAAM,eAAEC,EAAAA,iBAHX,iBAEWL,EAAAA,WAGsCA,EAAAA,mBAAAA,EAAAA,EAAAA,OAAjDJ,EAAAA,EAAAA,IAEI,IAFJ,EAAmE,kCAAnE,iBAMOI,EAAAA,eAAAA,EAAAA,EAAAA,OAATJ,EAAAA,EAAAA,IAEI,IAFJ,EAA4C,0BACrBG,EAAAA,EAAAA,IAAGC,EAAAA,cAAY,KADtC,eAKeK,EAAAA,mBAAf,iBAAeA,EAAAA,EAAAA,OAAfT,EAAAA,EAAAA,IAES,SAFT,EAAkE,cAKpDS,EAAAA,oBAAAA,EAAAA,EAAAA,OAAdT,EAAAA,EAAAA,IAES,U,MAFwBH,MAAM,SAAUc,QAAK,eAAEF,EAAAA,mBAAkB,eAA1E,mB,cAeN,MAAMG,EAAQC,EAAQ,MAChBC,EAAWF,EAAMG,OAAO,CAC5BC,QAAS,+BAGX,OACEC,KAAM,kBACNC,KAAM,eACNC,MAAO,CAAC,IACRC,OACE,MAAO,CACLC,MAAO,qBACPC,MAAO,GACPC,QAAS,GACTC,gBAAgB,EAChBC,kBAAkB,EAClBC,aAAc,OAGlBC,QAAS,CAEPC,WAAY,WACQ,IAAdC,KAAKP,MACPO,KAAKL,gBAAiB,EAEtBK,KAAKL,gBAAiB,GAK1BM,aAAc,WACQ,IAAhBD,KAAKN,QACPM,KAAKJ,kBAAmB,EAExBI,KAAKJ,kBAAmB,GAK5BM,gBAAiB,WACf,MAAkB,IAAdF,KAAKP,OAA+B,IAAhBO,KAAKN,SAO/BS,eAAgB,WACd,IAAIC,EAAe,CACjBX,MAAOO,KAAKP,MACZC,QAASM,KAAKN,SAGhBT,EACGoB,KAAK,WAAYD,EAAc,CAAEE,QAAS,CAAE,cAAiB,UAAYN,KAAKO,OAAOC,MAAMC,gBAC3FC,MAAMC,IACLC,QAAQC,IAAIF,GACZX,KAAKc,QAAQC,KAAK,QAEnBC,OAAOC,IACNL,QAAQC,IAAII,GACZjB,KAAKH,aAAeoB,EAAMN,SAASpB,KAAK0B,WAIhDC,WAAY,CAAEC,WAAAA,EAAAA,I,QClHhB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://groupomania-v1.0/./src/views/PublicationView.vue","webpack://groupomania-v1.0/./src/views/PublicationView.vue?bae9"],"sourcesContent":["<!-- ////////////////////////////////////////////////// -->\n<!--                      TEMPLATE                      -->\n<!-- ////////////////////////////////////////////////// -->\n\n<template>\n  <div class=\"publication\">\n    <HeaderHome />\n\n    <h1>{{ titre }}</h1>\n\n    <!-- Formulaire -->\n    <div class=\"bloc\">\n      <form>\n        <label>Titre</label>\n        <input v-model=\"title\" type=\"text\" @change=\"checkTitle()\" />\n        <!-- Message qui apparaît si le champ est mal rempli -->\n        <p class=\"formMessage\" v-if=\"titleDisplayed\">\n          Veuillez écrire un titre\n        </p>\n\n        <textarea\n          placeholder=\"Votre article\"\n          v-model=\"content\"\n          @change=\"checkContent()\"\n        ></textarea>\n        <p class=\"formMessage\" id=\"articleMessage\" v-if=\"contentDisplayed\">\n          Veuillez écrire un article\n        </p>\n      </form>\n\n      <!-- Message d'erreur en cas d'erreur côté serveur -->\n      <p v-if=\"errorMessage\" class=\"errorMessage\">\n        Oups ! Il semble que {{ errorMessage }}\n      </p>\n\n      <!-- Bouton désactivé -->\n      <button v-if=\"!validatedFields()\" class=\"bouton bouton--disabled\">\n        Publier\n      </button>\n\n      <!-- Bouton activé -->\n      <button v-if=\"validatedFields()\" class=\"bouton\" @click=\"publishArticle()\">\n        Publier\n      </button>\n    </div>\n  </div>\n</template>\n\n<!-- ////////////////////////////////////////////////// -->\n<!--                       SCRIPT                       -->\n<!-- ////////////////////////////////////////////////// -->\n\n<script>\nimport HeaderHome from \"@/components/HeaderHome.vue\";\n\n// Axios\nconst axios = require(\"axios\");\nconst instance = axios.create({\n  baseURL: \"http://localhost:3000/api/\",\n});\n\nexport default {\n  name: \"PublicationView\",\n  path: \"/publication\",\n  props: [\"\"],\n  data() {\n    return {\n      titre: \"Publier un article\",\n      title: \"\",\n      content: \"\",\n      titleDisplayed: false,\n      contentDisplayed: false,\n      errorMessage: null,\n    };\n  },\n  methods: {\n    // Vérification présence titre\n    checkTitle: function () {\n      if (this.title != \"\") {\n        this.titleDisplayed = false;\n      } else {\n        this.titleDisplayed = true;\n      }\n    },\n\n    // Vérification présence article\n    checkContent: function () {\n      if (this.content != \"\") {\n        this.contentDisplayed = false;\n      } else {\n        this.contentDisplayed = true;\n      }\n    },\n\n    // Vérification de tous les champs et gestion activation/désactivation du bouton \"publier\"\n    validatedFields: function () {\n      if (this.title != \"\" && this.content != \"\") {\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    publishArticle: function () {\n      let articleInfos = {\n        title: this.title,\n        content: this.content,\n      };\n\n      instance\n        .post(\"article/\", articleInfos, { headers: { 'Authorization': \"bearer \" + this.$store.state.sessionToken } })\n        .then((response) => {\n          console.log(response)\n          this.$router.push(\"/\"); // Redirection vers accueil\n        })\n        .catch((error) => {\n          console.log(error);\n          this.errorMessage = error.response.data.error; // Affichage du message d'erreur\n        });\n    },\n  },\n  components: { HeaderHome },\n};\n</script>\n\n<!-- ////////////////////////////////////////////////// -->\n<!--                       STYLE                        -->\n<!-- ////////////////////////////////////////////////// -->\n\n<style>\n#articleMessage {\n  margin-top: 10px;\n}\n</style>\n","import { render } from \"./PublicationView.vue?vue&type=template&id=1a0f5fb4\"\nimport script from \"./PublicationView.vue?vue&type=script&lang=js\"\nexport * from \"./PublicationView.vue?vue&type=script&lang=js\"\n\nimport \"./PublicationView.vue?vue&type=style&index=0&id=1a0f5fb4&lang=css\"\n\nimport exportComponent from \"/Users/clemencebonneaud/Desktop/Dev/OpenClassrooms/Cours/OC_P7/code/frontend/groupomania-v1.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","_createElementBlock","_createVNode","_component_HeaderHome","_toDisplayString","$data","_hoisted_3","$event","type","onChange","$options","placeholder","onClick","axios","require","instance","create","baseURL","name","path","props","data","titre","title","content","titleDisplayed","contentDisplayed","errorMessage","methods","checkTitle","this","checkContent","validatedFields","publishArticle","articleInfos","post","headers","$store","state","sessionToken","then","response","console","log","$router","push","catch","error","components","HeaderHome","__exports__","render"],"sourceRoot":""}