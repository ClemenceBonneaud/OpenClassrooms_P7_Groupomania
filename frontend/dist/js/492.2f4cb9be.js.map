{"version":3,"file":"js/492.2f4cb9be.js","mappings":"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","sources":["webpack://groupomania-v1.0/./src/views/ProfilModif.vue","webpack://groupomania-v1.0/./src/views/ProfilModif.vue?33e4"],"sourcesContent":["<!-- ////////////////////////////////////////////////// -->\n<!--                      TEMPLATE                      -->\n<!-- ////////////////////////////////////////////////// -->\n\n<template>\n  <div class=\"profil\">\n    <!-- Header -->\n    <HeaderHome />\n\n    <h1>{{ titre }}</h1>\n\n    <!-- Formulaire -->\n    <div class=\"bloc\">\n      <form>\n        <label>Nom</label>\n        <input v-model=\"nom\" type=\"text\" />\n        <p class=\"formMessage\" v-if=\"!nomRegexValid()\">\n          <!-- Message qui apparaît si le champ est mal rempli -->\n          Veuillez saisir un nom valide\n        </p>\n\n        <label>Prenom</label>\n        <input v-model=\"prenom\" type=\"text\" />\n        <p class=\"formMessage\" v-if=\"!prenomRegexValid()\">\n          Veuillez saisir un prénom valide\n        </p>\n\n        <label>Poste au sein de l'entreprise</label>\n        <input v-model=\"job\" type=\"text\" />\n        <p class=\"formMessage\" v-if=\"!jobRegexValid()\">\n          Veuillez saisir un poste valide\n        </p>\n\n        <label>Mot de passe</label>\n        <input v-model=\"password\" type=\"password\" @change=\"checkPassword()\" />\n        <p class=\"formMessage\" v-if=\"passwordDisplayed\">\n          Veuillez saisir un mot de passe\n        </p>\n      </form>\n\n      <!-- Message d'erreur en cas d'erreur côté serveur -->\n      <p v-if=\"errorMessage\" class=\"errorMessage\">\n        Oups ! Il semble que {{ errorMessage }}\n      </p>\n\n      <div class=\"profilEdit\">\n        <!-- Bouton désactivé -->\n        <button v-if=\"!validatedFields()\" class=\"bouton bouton--disabled\">\n          Modifier\n        </button>\n\n        <!-- Bouton activé -->\n        <button\n          v-if=\"validatedFields()\"\n          class=\"bouton\"\n          @click=\"modifierProfil()\"\n        >\n          Modifier\n        </button>\n        <router-link to=\"/monprofil\" class=\"bouton\">Annuler</router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<!-- ////////////////////////////////////////////////// -->\n<!--                       SCRIPT                       -->\n<!-- ////////////////////////////////////////////////// -->\n\n<script>\n// Header\nimport HeaderHome from \"@/components/HeaderHome.vue\";\n\n// Axios\nconst axios = require(\"axios\");\nconst instance = axios.create({\n  baseURL: \"http://localhost:3000/api/\",\n});\n\nexport default {\n  name: \"ProfilDetail\",\n  path: \"/monprofil/modification\",\n  props: [\"\"],\n  data() {\n    return {\n      titre: \"Modifier mon profil\",\n      nom: \"\",\n      prenom: \"\",\n      job: \"\",\n      password: \"\",\n      emailDisplayed: false,\n      passwordDisplayed: false,\n      errorMessage: null,\n    };\n  },\n  methods: {\n    // Vérifications RegEx\n    nomRegexValid: function () {\n      let regName = new RegExp(\n        \"^[a-zA-Z-'.ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ ]*$\"\n      );\n      let testNom = regName.exec(this.nom);\n      return testNom;\n    },\n\n    prenomRegexValid: function () {\n      let regName = new RegExp(\n        \"^[a-zA-Z-'.ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ ]*$\"\n      );\n      let testPrenom = regName.exec(this.prenom);\n      return testPrenom;\n    },\n\n    jobRegexValid: function () {\n      let regName = new RegExp(\n        \"^[a-zA-Z-'.ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ ]*$\"\n      );\n      let testJob = regName.exec(this.job);\n      return testJob;\n    },\n\n    // Vérification présence mot de passe et gestion affichage message d'erreur\n    checkPassword: function () {\n      if (this.password != \"\") {\n        this.passwordDisplayed = false;\n      } else {\n        this.passwordDisplayed = true;\n      }\n    },\n\n    // Vérification de tous les champs et gestion activation/désactivation du bouton \"se connecter\"\n    validatedFields: function () {\n      let regName = new RegExp(\n        \"^[a-zA-Z-'.ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ ]*$\"\n      );\n      let testNom = regName.exec(this.nom);\n      let testPrenom = regName.exec(this.prenom);\n      let testJob = regName.exec(this.job);\n\n      if (\n        testNom &&\n        testPrenom &&\n        testJob &&\n        this.password != \"\"\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    modifierProfil: function () {\n      let userInfos = {\n        lastName: this.nom,\n        firstName: this.prenom,\n        job: this.job,\n        password: this.password,\n      };\n\n      const user = this.$store.state.userId;\n      instance\n        .put(`auth/modify/${user}`, userInfos)\n        .then((response) => {\n          console.log(response);\n          this.$router.push(\"/monprofil\"); // Redirection vers la page profil\n        })\n        .catch((error) => {\n          console.log(error);\n          this.errorMessage = error.response.data.error; // Affichage du message d'erreur\n        });\n    },\n  },\n  components: { HeaderHome },\n};\n</script>\n\n<!-- ////////////////////////////////////////////////// -->\n<!--                       STYLE                        -->\n<!-- ////////////////////////////////////////////////// -->\n\n<style lang=\"scss\">\n.profilEdit {\n  display: flex;\n  justify-content: space-evenly;\n  & a {\n    margin: 0;\n  }\n}\n</style>\n","import { render } from \"./ProfilModif.vue?vue&type=template&id=6a4826a1\"\nimport script from \"./ProfilModif.vue?vue&type=script&lang=js\"\nexport * from \"./ProfilModif.vue?vue&type=script&lang=js\"\n\nimport \"./ProfilModif.vue?vue&type=style&index=0&id=6a4826a1&lang=scss\"\n\nimport exportComponent from \"/Users/clemencebonneaud/Desktop/Dev/OpenClassrooms/Cours/OC_P7/code/frontend/groupomania-v1.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_HeaderHome","_toDisplayString","$data","_hoisted_3","$event","type","$options","_hoisted_5","_hoisted_7","_hoisted_9","onChange","onClick","_component_router_link","to","axios","require","instance","create","baseURL","name","path","props","data","titre","nom","prenom","job","password","emailDisplayed","passwordDisplayed","errorMessage","methods","nomRegexValid","regName","RegExp","testNom","exec","this","prenomRegexValid","testPrenom","jobRegexValid","testJob","checkPassword","validatedFields","modifierProfil","userInfos","lastName","firstName","user","$store","state","userId","put","then","response","console","log","$router","push","catch","error","components","HeaderHome","__exports__","render"],"sourceRoot":""}