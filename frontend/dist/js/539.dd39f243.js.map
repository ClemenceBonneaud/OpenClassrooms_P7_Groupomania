{"version":3,"file":"js/539.dd39f243.js","mappings":"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","sources":["webpack://groupomania-v1.0/./src/components/HeaderLog.vue","webpack://groupomania-v1.0/./src/components/HeaderLog.vue?84e2","webpack://groupomania-v1.0/./src/views/SignupView.vue","webpack://groupomania-v1.0/./src/views/SignupView.vue?fdb2"],"sourcesContent":["<script>\nexport default {\n  name: \"HeaderLog\",\n  props: [\"\"],\n};\n</script>\n\n<template>\n  <header class=\"header header--log\">\n    <div>\n      <figure>\n        <img\n          src=\"../assets/icon-left-font-monochrome-black.svg\"\n          alt=\"Logo Groupomania\"\n        />\n      </figure>\n    </div>\n    <nav>\n      <router-link to=\"/signup\">S'inscrire</router-link>\n      <router-link to=\"/login\">Se connecter</router-link>\n    </nav>\n  </header>\n</template>\n","import { render } from \"./HeaderLog.vue?vue&type=template&id=a9707dba\"\nimport script from \"./HeaderLog.vue?vue&type=script&lang=js\"\nexport * from \"./HeaderLog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/clemencebonneaud/Desktop/Dev/OpenClassrooms/Cours/OC_P7/code/frontend/groupomania-v1.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- ////////////////////////////////////////////////// -->\n<!--                      TEMPLATE                      -->\n<!-- ////////////////////////////////////////////////// -->\n\n<template>\n  <div class=\"signup\">\n    <!-- Header -->\n    <HeaderLog />\n\n    <h1>{{ titre }}</h1>\n\n    <!-- Formulaire -->\n    <div class=\"bloc\">\n      <form>\n        <label>Nom</label>\n        <input v-model=\"nom\" type=\"text\" />\n        <p class=\"formMessage\" v-if=\"!nomRegexValid()\">\n          <!-- Message qui apparaît si le champ est mal rempli -->\n          Veuillez saisir un nom valide\n        </p>\n\n        <label>Prenom</label>\n        <input v-model=\"prenom\" type=\"text\" />\n        <p class=\"formMessage\" v-if=\"!prenomRegexValid()\">\n          Veuillez saisir un prénom valide\n        </p>\n\n        <label>Poste au sein de l'entreprise</label>\n        <input v-model=\"job\" type=\"text\" />\n        <p class=\"formMessage\" v-if=\"!jobRegexValid()\">\n          Veuillez saisir un poste valide\n        </p>\n\n        <label>Email</label>\n        <input v-model=\"email\" type=\"email\" @keyup=\"analyseEmail()\" />\n        <p class=\"formMessage\" v-if=\"emailDisplayed\">\n          Veuillez saisir un email valide\n        </p>\n\n        <label>Mot de passe</label>\n        <input v-model=\"password\" type=\"password\" @change=\"checkPassword()\" />\n        <p class=\"formMessage\" v-if=\"passwordDisplayed\">\n          Veuillez saisir un mot de passe\n        </p>\n      </form>\n\n      <!-- Message d'erreur en cas d'erreur côté serveur -->\n      <p v-if=\"errorMessage\" class=\"errorMessage\">\n        Oups ! Il semblerait que {{ errorMessage }}\n      </p>\n\n      <!-- Bouton désactivé -->\n      <button v-if=\"!validatedFields()\" class=\"bouton bouton--disabled\">\n        Se connecter\n      </button>\n\n      <!-- Bouton activé -->\n      <button v-if=\"validatedFields()\" class=\"bouton\" @click=\"createAccount()\">\n        Se connecter\n      </button>\n    </div>\n  </div>\n</template>\n\n<!-- ////////////////////////////////////////////////// -->\n<!--                       SCRIPT                       -->\n<!-- ////////////////////////////////////////////////// -->\n\n<script>\n// Header\nimport HeaderLog from \"@/components/HeaderLog.vue\";\n\n// Axios\nconst axios = require(\"axios\");\nconst instance = axios.create({\n  baseURL: \"http://localhost:3000/api/\",\n});\n\nexport default {\n  name: \"SignupView\",\n    path: \"/auth/signup\",\n  props: [\"\"],\n  data() {\n    return {\n      titre: \"S'inscrire\",\n      nom: \"\",\n      prenom: \"\",\n      job: \"\",\n      email: \"\",\n      password: \"\",\n      emailDisplayed: false,\n      passwordDisplayed: false,\n      errorMessage: null,\n      sessionToken: null,\n    };\n  },\n  methods: {\n    // Vérifications RegEx\n    nomRegexValid: function () {\n      let regName = new RegExp(\n        \"^[a-zA-Z-'.ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ ]*$\"\n      );\n      let testNom = regName.exec(this.nom);\n      return testNom;\n    },\n\n    prenomRegexValid: function () {\n      let regName = new RegExp(\n        \"^[a-zA-Z-'.ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ ]*$\"\n      );\n      let testPrenom = regName.exec(this.prenom);\n      return testPrenom;\n    },\n\n    jobRegexValid: function () {\n      let regName = new RegExp(\n        \"^[a-zA-Z-'.ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ ]*$\"\n      );\n      let testJob = regName.exec(this.job);\n      return testJob;\n    },\n\n    // Vérification Regex + gestion affichage message d'erreur\n    analyseEmail: function () {\n      let regEmail = new RegExp(\"[a-z0-9]+@[a-z]+[.]+[a-z]{2,3}\");\n      let testEmail = regEmail.exec(this.email);\n      if (testEmail) {\n        this.emailDisplayed = false;\n      } else {\n        this.emailDisplayed = true;\n      }\n    },\n\n    // Vérification présence mot de passe et gestion affichage message d'erreur\n    checkPassword: function () {\n      if (this.password != \"\") {\n        this.passwordDisplayed = false;\n      } else {\n        this.passwordDisplayed = true;\n      }\n    },\n\n    // Vérification de tous les champs et gestion activation/désactivation du bouton \"se connecter\"\n    validatedFields: function () {\n      let regName = new RegExp(\n        \"^[a-zA-Z-'.ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ ]*$\"\n      );\n      let regEmail = new RegExp(\"[a-z0-9]+@[a-z]+[.]+[a-z]{2,3}\");\n\n      let testNom = regName.exec(this.nom);\n      let testPrenom = regName.exec(this.prenom);\n      let testJob = regName.exec(this.job);\n      let testEmail = regEmail.exec(this.email);\n\n      if (\n        testNom &&\n        testPrenom &&\n        testJob &&\n        testEmail &&\n        this.password != \"\"\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    // Envoi API - création nouvel utilisateur\n    createAccount: function () {\n      let userInfos = {\n        lastName: this.nom,\n        firstName: this.prenom,\n        job: this.job,\n        email: this.email,\n        password: this.password,\n      };\n\n      instance\n        .post(\"auth/signup\", userInfos)\n        .then((response) => {\n          this.$store.state.sessionToken = response.data.token; // Récupération du token dans le state\n          this.$store.state.userId = response.data.userId; // Récupération du userId dans le state\n          this.$router.push('/'); // Redirection vers accueil\n        })\n        .catch((error) => {\n          console.log(error);\n          this.errorMessage = error.response.data.error; // Affichage du message d'erreur\n        });\n    },\n  },\n  components: { HeaderLog },\n};\n</script>\n","import { render } from \"./SignupView.vue?vue&type=template&id=d9437f70\"\nimport script from \"./SignupView.vue?vue&type=script&lang=js\"\nexport * from \"./SignupView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/clemencebonneaud/Desktop/Dev/OpenClassrooms/Cours/OC_P7/code/frontend/groupomania-v1.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","_createElementBlock","_hoisted_2","_createVNode","_component_router_link","to","name","props","__exports__","render","_component_HeaderLog","_toDisplayString","$data","_hoisted_3","$event","type","$options","_hoisted_5","_hoisted_7","_hoisted_9","onKeyup","_hoisted_11","onChange","onClick","axios","require","instance","create","baseURL","path","data","titre","nom","prenom","job","email","password","emailDisplayed","passwordDisplayed","errorMessage","sessionToken","methods","nomRegexValid","regName","RegExp","testNom","exec","this","prenomRegexValid","testPrenom","jobRegexValid","testJob","analyseEmail","regEmail","testEmail","checkPassword","validatedFields","createAccount","userInfos","lastName","firstName","post","then","response","$store","state","token","userId","$router","push","catch","error","console","log","components","HeaderLog"],"sourceRoot":""}